<form novalidate autocomplete="off" [formGroup]="forma" (submit)="guardar()">
  <nb-card>
    <nb-card-header>Express Entry</nb-card-header>
    <nb-card-body>
      <!-- Personal information -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Personal information </label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Title </label>
                <nb-select
                  name="title"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="title"
                  [status]="
                    (submitted || f.title.touched) && f.title.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optTitles"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  class="card-text text-white"
                  *ngIf="(submitted || f.title.touched) && f.title.errors"
                >
                  <small
                    *ngIf="f.title.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Sex </label>
                <nb-select
                  name="sex"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="sex"
                  [status]="
                    (submitted || f.sex.touched) && f.sex.errors ? 'danger' : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optSex" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  *ngIf="(submitted || f.sex.touched) && f.sex.errors"
                  class="card-text"
                >
                  <small
                    *ngIf="f.sex.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">First Name </label>
                <input
                  type="text"
                  name="first_name"
                  placeholder="First Name"
                  nbInput
                  fullWidth
                  formControlName="first_name"
                  [status]="
                    (submitted || f.first_name.touched) && f.first_name.errors
                      ? 'danger'
                      : ''
                  "
                />
                <div
                  *ngIf="
                    (submitted || f.first_name.touched) && f.first_name.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.first_name.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                  <small
                    *ngIf="f.first_name.errors?.existe"
                    class="text-muted text-muted-danger"
                  >
                    campo con errores
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Last Name </label>
                <input
                  type="text"
                  name="last_name"
                  placeholder="Last Name"
                  nbInput
                  fullWidth
                  formControlName="last_name"
                  [status]="
                    (submitted || f.last_name.touched) && f.last_name.errors
                      ? 'danger'
                      : ''
                  "
                />
                <div
                  *ngIf="
                    (submitted || f.last_name.touched) && f.last_name.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.last_name.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Email </label>
                <input
                  type="text"
                  name="email"
                  placeholder="Email"
                  nbInput
                  fullWidth
                  formControlName="email"
                  [status]="
                    (submitted || f.email.touched) && f.email.errors
                      ? 'danger'
                      : ''
                  "
                />
                <div
                  *ngIf="(submitted || f.email.touched) && f.email.errors"
                  class="card-text"
                >
                  <small
                    *ngIf="f.email.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                  <small
                    *ngIf="f.email.errors?.pattern"
                    class="text-muted text-muted-danger"
                  >
                    Email invalid
                  </small>
                  <small
                    *ngIf="f.email.errors?.existe"
                    class="text-muted text-muted-danger"
                  >
                    The email already exist
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Telephone </label>
                <input
                  type="text"
                  name="telephone"
                  placeholder="Telephone"
                  nbInput
                  fullWidth
                  formControlName="telephone"
                  [status]="
                    (submitted || f.telephone.touched) && f.telephone.errors
                      ? 'danger'
                      : ''
                  "
                />
                <div
                  *ngIf="
                    (submitted || f.telephone.touched) && f.telephone.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.telephone.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                  <small
                    *ngIf="f.telephone.errors?.pattern"
                    class="text-muted text-muted-danger"
                  >
                    Not is a phone number valid
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Country of Citizenship </label>
                <nb-select
                  name="country_citizenship"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="country_citizenship"
                  [status]="
                    (submitted || f.country_citizenship.touched) &&
                    f.country_citizenship.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optCountries"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  *ngIf="
                    (submitted || f.country_citizenship.touched) &&
                    f.country_citizenship.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.country_citizenship.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Other Citizenship </label>
                <nb-select
                  name="other_citizenship"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="other_citizenship"
                  [status]="
                    (submitted || f.other_citizenship.touched) &&
                    f.other_citizenship.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optCountries"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  *ngIf="
                    (submitted || f.other_citizenship.touched) &&
                    f.other_citizenship.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.other_citizenship.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Country of Residence </label>
                <nb-select
                  name="country_residence"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="country_residence"
                  [status]="
                    (submitted || f.country_residence.touched) &&
                    f.country_residence.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optCountries"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  *ngIf="
                    (submitted || f.country_residence.touched) &&
                    f.country_residence.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.country_residence.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Status in Country of Residence </label>
                <nb-select
                  name="status_residence"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="status_residence"
                  [status]="
                    (submitted || f.status_residence.touched) &&
                    f.status_residence.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optStatus"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <div
                  *ngIf="
                    (submitted || f.status_residence.touched) &&
                    f.status_residence.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.status_residence.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="name">Other Status in Country of Residence </label>
                <input
                  type="text"
                  name="status_residence_other"
                  formControlName="status_residence_other"
                  nbInput
                  fullWidth
                  [status]="
                    (submitted || f.status_residence_other.touched) &&
                    f.status_residence_other.errors
                      ? 'danger'
                      : ''
                  "
                />
                <div
                  *ngIf="
                    (submitted || f.status_residence_other.touched) &&
                    f.status_residence_other.errors
                  "
                  class="card-text"
                >
                  <small
                    *ngIf="f.status_residence_other.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="">Age </label>
                <input
                  type="number"
                  name="age"
                  placeholder="Age"
                  nbInput
                  fullWidth
                  formControlName="age"
                  [status]="
                    (submitted || f.age.touched) && f.age.errors ? 'danger' : ''
                  "
                />
                <div
                  *ngIf="(submitted || f.age.touched) && f.age.errors"
                  class="card-text"
                >
                  <small
                    *ngIf="f.age.errors?.required"
                    class="text-muted text-muted-danger"
                  >
                    Field required
                  </small>
                  <small
                    *ngIf="f.age.errors?.min"
                    class="text-muted text-muted-danger"
                    >Field minimun {{ f.age.errors.min.min }}</small
                  >
                  <small
                    *ngIf="f.age.errors?.max"
                    class="text-muted text-muted-danger"
                    >Field {{ f.age.errors.max.max }}</small
                  >
                </div>
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- marital status -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Marital Status</label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_marital_001">Marital Status:</label>
                <nb-select
                  name="p_marital_001"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_marital_001"
                  [status]="
                    (submitted || f.p_marital_001.touched) &&
                    f.p_marital_001.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optMaritalStatus"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_marital_001.touched) && f.p_marital_001.errors " > <small *ngIf="f.p_marital_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_marital_002">
                  Is your spouse or common-law partner a citizen or permanent
                  resident of Canada?
                </label>
                <nb-select
                  name="p_marital_002"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_marital_002"
                  [status]="
                    (submitted || f.p_marital_002.touched) &&
                    f.p_marital_002.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_marital_002.touched) && f.p_marital_002.errors " > <small *ngIf="f.p_marital_002.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_marital_003">
                  Will your spouse or common-law partner come with you to
                  Canada?
                </label>
                <nb-select
                  name="p_marital_003"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_marital_003"
                  [status]="
                    (submitted || f.p_marital_003.touched) &&
                    f.p_marital_003.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_marital_003.touched) && f.p_marital_003.errors " > <small *ngIf="f.p_marital_003.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- information -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Information</label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_information_001">
                  Have you or your spouse previously visited Canada for work,
                  travel, or study?
                </label>
                <nb-select
                  name="p_information_001"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_information_001"
                  [status]="
                    (submitted || f.p_information_001.touched) &&
                    f.p_information_001.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_information_001.touched) && f.p_information_001.errors " > <small *ngIf="f.p_information_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_information_002">
                  Do you have a Visitors, Student or Work Visa for Canada?
                </label>
                <nb-select
                  name="p_information_002"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_information_002"
                  [status]="
                    (submitted || f.p_information_002.touched) &&
                    f.p_information_002.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_information_002.touched) && f.p_information_002.errors " > <small *ngIf="f.p_information_002.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- visit -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Previous and Future Visit(s) and Admisibility</label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_visit_001">
                  Have you or your spouse ever been refused for any type of
                  application for any country or any province?
                </label>
                <nb-select
                  name="p_visit_001"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_visit_001"
                  [status]="
                    (submitted || f.p_visit_001.touched) && f.p_visit_001.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_visit_001.touched) && f.p_visit_001.errors " > <small *ngIf="f.p_visit_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_visit_002">
                  Have you or your spouse ever been arrested, detained, charged
                  or convicted in any country in past?
                </label>
                <nb-select
                  name="p_visit_002"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_visit_002"
                  [status]="
                    (submitted || f.p_visit_002.touched) && f.p_visit_002.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_visit_002.touched) && f.p_visit_002.errors " > <small *ngIf="f.p_visit_002.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_visit_003">
                  Have you or your spouse previously applied for immigration or
                  visa to Canada?
                </label>
                <nb-select
                  name="p_visit_003"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_visit_003"
                  [status]="
                    (submitted || f.p_visit_003.touched) && f.p_visit_003.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_visit_003.touched) && f.p_visit_003.errors " > <small *ngIf="f.p_visit_003.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_visit_004">
                  Where is your preferred destination in Canada?
                </label>
                <nb-select
                  name="p_visit_004"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_visit_004"
                  [status]="
                    (submitted || f.p_visit_004.touched) && f.p_visit_004.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option
                    *ngFor="let item of optProvinces"
                    [value]="item.value"
                  >
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_visit_004.touched) && f.p_visit_004.errors " > <small *ngIf="f.p_visit_004.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label for="p_visit_005">
                  Have you previously submitted an Express Entry application?
                </label>
                <nb-select
                  name="p_visit_005"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_visit_005"
                  [status]="
                    (submitted || f.p_visit_005.touched) && f.p_visit_005.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_visit_005.touched) && f.p_visit_005.errors " > <small *ngIf="f.p_visit_005.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- education -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Education</label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12">
              <label for="">
                What is your highest level of education that you have completed
                and graduated?
              </label>
            </div>
          </div>
          <!-- education history -->
          <nb-card>
            <nb-card-header>
              <div class="row">
                <div class="col-10">Education History</div>
                <div class="col text-right">
                  <button
                    nbButton
                    outLine
                    status="primary"
                    size="tiny"
                    type="button"
                    [disabled]="fEduList.length === 10"
                    (click)="add()"
                  >
                    <nb-icon icon="plus-circle-outline"></nb-icon>
                  </button>
                </div>
              </div>
            </nb-card-header>
            <nb-card-body>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th><label>Level</label></th>
                    <th><label>Field of Study</label></th>
                    <th><label>Name of School/Institution</label></th>
                    <th><label>Duration (yrs)</label></th>
                    <!-- <th><label>Country</label></th> -->
                    <th><label>Option</label></th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="
                      let educationList of fEduList.controls;
                      let i = index
                    "
                  >
                    <ng-container [formGroup]="educationList">
                      <td>
                        <div class="form-group mb-0">
                          <nb-select
                            name="level"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="level"
                            [status]="
                              (submitted ||
                                educationList.controls.level.touched) &&
                              educationList.controls.level.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <nb-option value="">Select...</nb-option>
                            <nb-option
                              *ngFor="let item of optLevelEducation"
                              [value]="item.value"
                            >
                              {{ item.name }}
                            </nb-option>
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || educationList.controls.level.touched) && educationList.controls.level.errors " > <small *ngIf="educationList.controls.level.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </td>
                      <td>
                        <div class="form-group mb-0">
                          <input
                            type="text"
                            name="study"
                            placeholder="Study"
                            nbInput
                            fullWidth
                            formControlName="study"
                            [status]="
                              (submitted ||
                                educationList.controls.study.touched) &&
                              educationList.controls.study.errors
                                ? 'danger'
                                : ''
                            "
                          />

                          <!-- <div class="card-text" *ngIf=" (submitted || educationList.controls.study.touched) && educationList.controls.study.errors " >
                            <small *ngIf=" educationList.controls.study.errors?.required " class="form-text text-muted text-muted-danger" > Field required </small>
                          </div> -->
                        </div>
                      </td>
                      <td>
                        <div class="form-group mb-0">
                          <input
                            type="text"
                            name="institution"
                            placeholder="School or Institution"
                            nbInput
                            fullWidth
                            formControlName="institution"
                            [status]="
                              (submitted ||
                                educationList.controls.institution.touched) &&
                              educationList.controls.institution.errors
                                ? 'danger'
                                : ''
                            "
                          />

                          <!-- <div class="card-text" *ngIf=" (submitted || educationList.controls.institution.touched) && educationList.controls.institution.errors " >
                            <small *ngIf=" educationList.controls.institution.errors?.required " class="form-text text-muted text-muted-danger" > Field required </small>
                          </div> -->
                        </div>
                      </td>
                      <td>
                        <div class="form-group mb-0">
                          <nb-select
                            name="duration"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="duration"
                            [status]="
                              (submitted ||
                                educationList.controls.duration.touched) &&
                              educationList.controls.duration.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <nb-option value="">Select...</nb-option>
                            <nb-option
                              *ngFor="let item of optYearsEducation"
                              [value]="item.value"
                            >
                              {{ item.name }}
                            </nb-option>
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || educationList.controls.duration.touched) && educationList.controls.duration.errors " > <small *ngIf="educationList.controls.duration.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </td>
                      <!-- <td>4</td> -->
                      <td class="text-center">
                        <button
                          nbButton
                          type="button"
                          ghost
                          status="danger"
                          size="tiny"
                          [disabled]="fEduList.length === 1"
                          (click)="remove(i)"
                        >
                          <nb-icon icon="close-circle-outline"></nb-icon>
                          <!-- <nb-icon icon="file-remove-outline"></nb-icon> -->
                        </button>
                      </td>
                    </ng-container>
                  </tr>
                </tbody>
              </table>
            </nb-card-body>
          </nb-card>

          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label for="p_education_001">
                  Have you completed an Education Credential Assessment ECA for
                  your education outside of Canada?
                </label>
                <nb-select
                  name="p_education_001"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_education_001"
                  [status]="
                    (submitted || f.p_education_001.touched) &&
                    f.p_education_001.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_education_001.touched) && f.p_education_001.errors " > <small *ngIf="f.p_education_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- language test / exam -->
      <nb-card accent="info">
        <nb-card-header>
          <label for="">Language test</label>
        </nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label>
                  Have you taken a Language Exam, in either English or French,
                  within the last two(2) years?
                </label>
                <nb-select
                  name="p_language_001"
                  placeholder="Select Showcase"
                  fullWidth
                  formControlName="p_language_001"
                  [status]="
                    (submitted || f.p_language_001.touched) &&
                    f.p_language_001.errors
                      ? 'danger'
                      : ''
                  "
                >
                  <nb-option value="">Select...</nb-option>
                  <nb-option *ngFor="let item of optYesNo" [value]="item.value">
                    {{ item.name }}
                  </nb-option>
                </nb-select>
                <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_001.touched) && f.p_language_001.errors " > <small *ngIf="f.p_language_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
              </div>
            </div>
            <ng-container>
              <div class="col-12 col-md-6">
                <nb-card accent="info">
                  <nb-card-header>
                    <label for=""> English Test </label>
                  </nb-card-header>
                  <nb-card-body>
                    <div class="row">
                      <div class="col-12">
                        <div class="form-group">
                          <label>
                            Which official language test did you take?
                          </label>
                          <nb-select
                            name="p_language_en_001"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_001"
                            [status]="
                              (submitted || f.p_language_en_001.touched) &&
                              f.p_language_en_001.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_001.touched) && f.p_language_en_001.errors " > <small *ngIf="f.p_language_en_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="form-group">
                          <label> Which IELTS Exam did you take? </label>
                          <nb-select
                            name="p_language_en_002"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_002"
                            [status]="
                              (submitted || f.p_language_en_002.touched) &&
                              f.p_language_en_002.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_002.touched) && f.p_language_en_002.errors " > <small *ngIf="f.p_language_en_002.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="form-group">
                          <label> Exam results date? </label>
                          <nb-select
                            name="p_language_en_003"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_003"
                            [status]="
                              (submitted || f.p_language_en_003.touched) &&
                              f.p_language_en_003.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_003.touched) && f.p_language_en_003.errors " > <small *ngIf="f.p_language_en_003.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Speaking </label>
                          <nb-select
                            name="p_language_en_004"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_004"
                            [status]="
                              (submitted || f.p_language_en_004.touched) &&
                              f.p_language_en_004.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_004.touched) && f.p_language_en_004.errors " > <small *ngIf="f.p_language_en_004.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Listening </label>
                          <nb-select
                            name="p_language_en_005"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_005"
                            [status]="
                              (submitted || f.p_language_en_005.touched) &&
                              f.p_language_en_005.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_005.touched) && f.p_language_en_005.errors " > <small *ngIf="f.p_language_en_005.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Reading </label>
                          <nb-select
                            name="p_language_en_006"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_006"
                            [status]="
                              (submitted || f.p_language_en_006.touched) &&
                              f.p_language_en_006.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_006.touched) && f.p_language_en_006.errors " > <small *ngIf="f.p_language_en_006.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Writing </label>
                          <nb-select
                            name="p_language_en_007"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_007"
                            [status]="
                              (submitted || f.p_language_en_007.touched) &&
                              f.p_language_en_007.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_007.touched) && f.p_language_en_007.errors " > <small *ngIf="f.p_language_en_007.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>
                    </div>
                  </nb-card-body>
                </nb-card>
              </div>

              <div class="col-12 col-md-6">
                <nb-card accent="info">
                  <nb-card-header>
                    <label for=""> French Test </label>
                  </nb-card-header>
                  <nb-card-body>
                    <div class="row">
                      <div class="col-12">
                        <div class="form-group">
                          <label>
                            Which official language test did you take?
                          </label>
                          <nb-select
                            name="p_language_en_001"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_001"
                            [status]="
                              (submitted || f.p_language_en_001.touched) &&
                              f.p_language_en_001.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_001.touched) && f.p_language_en_001.errors " > <small *ngIf="f.p_language_en_001.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="form-group">
                          <label> Exam results date? </label>
                          <nb-select
                            name="p_language_en_002"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_002"
                            [status]="
                              (submitted || f.p_language_en_002.touched) &&
                              f.p_language_en_002.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_002.touched) && f.p_language_en_002.errors " > <small *ngIf="f.p_language_en_002.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Speaking </label>
                          <nb-select
                            name="p_language_en_003"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_003"
                            [status]="
                              (submitted || f.p_language_en_003.touched) &&
                              f.p_language_en_003.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_003.touched) && f.p_language_en_003.errors " > <small *ngIf="f.p_language_en_003.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Listening </label>
                          <nb-select
                            name="p_language_en_004"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_004"
                            [status]="
                              (submitted || f.p_language_en_004.touched) &&
                              f.p_language_en_004.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_004.touched) && f.p_language_en_004.errors " > <small *ngIf="f.p_language_en_004.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Reading </label>
                          <nb-select
                            name="p_language_en_005"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_005"
                            [status]="
                              (submitted || f.p_language_en_005.touched) &&
                              f.p_language_en_005.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_005.touched) && f.p_language_en_005.errors " > <small *ngIf="f.p_language_en_005.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <div class="form-group">
                          <label> Writing </label>
                          <nb-select
                            name="p_language_en_006"
                            placeholder="Select Showcase"
                            fullWidth
                            formControlName="p_language_en_006"
                            [status]="
                              (submitted || f.p_language_en_006.touched) &&
                              f.p_language_en_006.errors
                                ? 'danger'
                                : ''
                            "
                          >
                            <!-- <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optYesNo" [value]="item.value" > {{ item.name }} </nb-option> -->
                          </nb-select>
                          <!-- <div class="card-text text-white" *ngIf=" (submitted || f.p_language_en_006.touched) && f.p_language_en_006.errors " > <small *ngIf="f.p_language_en_006.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div> -->
                        </div>
                      </div>
                    </div>
                  </nb-card-body>
                </nb-card>
              </div>
            </ng-container>
          </div>
        </nb-card-body>
      </nb-card>

      <!-- <div class="col-12 col-md-6">
        <div class="form-group">
          <label>text_pregunta</label>
          <nb-select name="_pregunta_" placeholder="Select Showcase" fullWidth formControlName="_pregunta_" [status]=" (submitted || f._pregunta_.touched) && f._pregunta_.errors ? 'danger' : '' " >
            <nb-option value="">Select...</nb-option> <nb-option *ngFor="let item of optTitles" [value]="item.value" > {{ item.name }} </nb-option>
          </nb-select>
          <div class="card-text text-white" *ngIf=" (submitted || f._pregunta_.touched) && f._pregunta_.errors " > <small *ngIf="f._pregunta_.errors?.required" class="text-muted text-muted-danger" > Field required </small> </div>
        </div>
      </div> -->

      <!-- <div>

        <!-- language englis -- >
        <div class="row">
          <div class="col-12 col-md-6">
            <nb-card accent="info">
              <nb-card-body>
                <div class="row">
                  <div class="col-12">
                    <label for="">English</label>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
          </div>
          <div class="col-12 col-md-6">
            <nb-card accent="info">
              <nb-card-body>
                <div class="row">
                  <div class="col-12">
                    <label for="">French</label>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
          </div>
        </div>

        <!-- work details -- >
        <nb-card accent="info">
          <nb-card-body>
            <div class="row">
              <div class="col-12">
                <label for="">Work</label>
              </div>
            </div>
          </nb-card-body>
        </nb-card>

        <!-- family -- >
        <nb-card accent="info">
          <nb-card-body>
            <div class="row">
              <div class="col-12">
                <label for="">Family</label>
              </div>
            </div>
          </nb-card-body>
        </nb-card>

        <!-- money -- >
        <nb-card accent="info">
          <nb-card-body>
            <div class="row">
              <div class="col-12">
                <label for="">Money</label>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div> -->

      <!-- <ngx-family [process]="process"></ngx-family> -->

      <!-- Botones  -->
      <div>
        <div *ngIf="process && process.status === cmStatus.active">
          <!-- <button type="submit" [disabled]="!forma.valid" nbButton fullWidth status="primary" > -->
          <button type="submit" nbButton fullWidth status="primary">
            Submit
          </button>
        </div>

        <div
          *ngIf="
            process && process.status !== cmStatus.active && url[0] !== 'pages'
          "
        >
          <button type="submit" nbButton fullWidth status="primary">
            Update
          </button>
        </div>
      </div>
    </nb-card-body>
  </nb-card>
</form>
